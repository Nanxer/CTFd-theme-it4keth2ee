import{d as u,c as y,m as l,C as r}from"./index.8bd281d2.js";import{c as m,m as w,e as x}from"./index.1cf73b05.js";import"./echarts.128204f2.js";function S(s,t,n){let i={backgroundColor:"transparent",title:{left:"center",text:"Top 10 "+(s==="teams"?"Teams":"Users"),textStyle:{color:"#00ffff",fontSize:18,fontWeight:"bold",textShadow:"0 0 10px #00ffff"}},tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.8)",borderColor:"#00ffff",borderWidth:1,textStyle:{color:"#ffffff"},axisPointer:{type:"cross",lineStyle:{color:"#00ffff",width:1}}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,textStyle:{color:"#ffffff"},data:[]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0,borderColor:"rgba(0, 255, 255, 0.3)",borderWidth:1},xAxis:[{type:"time",boundaryGap:!1,axisLine:{lineStyle:{color:"rgba(0, 255, 255, 0.5)",width:2}},axisLabel:{color:"#cccccc"},splitLine:{lineStyle:{color:"rgba(0, 255, 255, 0.1)",type:"dashed"}},data:[]}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"rgba(0, 255, 255, 0.5)",width:2}},axisLabel:{color:"#cccccc"},splitLine:{lineStyle:{color:"rgba(0, 255, 255, 0.1)",type:"dashed"}}}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(0, 255, 255, 0.2)",borderColor:"rgba(0, 255, 255, 0.3)",textStyle:{color:"#ffffff"}}],series:[]};const o=Object.keys(t);for(let e=0;e<o.length;e++){const c=[],f=[];for(let a=0;a<t[o[e]].solves.length;a++){c.push(t[o[e]].solves[a].value);const d=u(t[o[e]].solves[a].date);f.push(d.toDate())}const b=m(c);let g=f.map(function(a,d){return[a,b[d]]});i.legend.data.push(t[o[e]].name);const p={name:t[o[e]].name,type:"line",smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{width:3,shadowBlur:10,shadowColor:"rgba(0, 255, 255, 0.5)"},itemStyle:{color:y(t[o[e]].name+t[o[e]].id),borderWidth:2,borderColor:"#ffffff",shadowBlur:10,shadowColor:"rgba(0, 255, 255, 0.5)"},emphasis:{lineStyle:{width:4,shadowBlur:15,shadowColor:"rgba(0, 255, 255, 0.8)"},itemStyle:{shadowBlur:15,shadowColor:"rgba(0, 255, 255, 0.8)"}},areaStyle:{opacity:.3},data:g};i.series.push(p)}return n&&(i=w(i,n)),i}window.Alpine=l;window.CTFd=r;const h=window.scoreboardUpdateInterval||3e5;l.data("ScoreboardDetail",()=>({data:{},show:!0,activeBracket:null,async update(){this.data=await r.pages.scoreboard.getScoreboardDetail(10,this.activeBracket);let s=window.scoreboardChartOptions,t=S(r.config.userMode,this.data,s);x(this.$refs.scoregraph,t),this.show=Object.keys(this.data).length>0},async init(){this.update(),setInterval(()=>{this.update()},h)}}));l.data("ScoreboardList",()=>({standings:[],brackets:[],activeBracket:null,async update(){this.brackets=await r.pages.scoreboard.getBrackets(r.config.userMode),this.standings=await r.pages.scoreboard.getScoreboard()},async init(){this.$watch("activeBracket",s=>{this.$dispatch("bracket-change",s)}),this.update(),setInterval(()=>{this.update()},h)}}));l.start();

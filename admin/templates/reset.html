{% extends "admin/base.html" %}

{% block stylesheets %}
{% endblock %}

{% block content %}
	<div class="jumbotron">
		<div class="container">
			<h1>重置</h1>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-md-6 offset-md-3">
				{% with form = Forms.config.ResetInstanceForm() %}
				<form method="POST" id="reset-ctf-form">
					<div class="alert alert-danger" role="alert">
						<p>
							重置您的CTFd实例允许您批量删除数据，为其他活动、其他课程做准备，或者将其恢复到干净状态。
						</p>

						<p>
							重置您的CTFd实例将<strong>永久删除</strong>所选数据。
						</p>

						<p>
							重置前请仔细考虑，因为不会自动创建备份，所有选中的数据都将丢失。
						</p>

						<span>
							<strong>
								通过<a href="{{ url_for('admin.config', _anchor='backup') }}">创建CTFd导出</a>来备份您需要的所有数据
							</strong>
						</span>
					</div>

					<hr>

					<div class="form-group pb-2">
						<div class="form-check">
							{{ form.accounts(class="form-check-input", autocomplete="off") }}
							{{ form.accounts.label(class="form-check-label") }}
						</div>
						<span class="text-muted">
								删除所有用户和团队账户及其相关信息<br>
								<small>(用户, 团队, 提交, 追踪)</small>
							</span>
					</div>

					<div class="form-group pb-2">
						<div class="form-check">
							{{ form.submissions(class="form-check-input", autocomplete="off") }}
							{{ form.submissions.label(class="form-check-label") }}
						</div>
						<span class="text-muted">
								删除所有账户获得分数或执行操作的记录<br>
								<small>(提交, 奖励, 解锁, 追踪)</small>
							</span>
					</div>

					<div class="form-group pb-2">
						<div class="form-check">
							{{ form.challenges(class="form-check-input", autocomplete="off") }}
							{{ form.challenges.label(class="form-check-label") }}
						</div>
						<span class="text-muted">
								删除所有题目及相关数据<br>
								<small>(题目, 标志, 提示, 标签, 题目文件)</small>
							</span>
					</div>

					<div class="form-group pb-2">
						<div class="form-check">
							{{ form.pages(class="form-check-input", autocomplete="off") }}
							{{ form.pages.label(class="form-check-label") }}
						</div>
						<span class="text-muted">
								删除所有页面及其相关文件<br>
								<small>(页面, 页面文件)</small>
							</span>
					</div>

					<div class="form-group pb-2">
						<div class="form-check">
							{{ form.notifications(class="form-check-input", autocomplete="off") }}
							{{ form.notifications.label(class="form-check-label") }}
						</div>
						<span class="text-muted">
								删除所有通知<br>
								<small>(通知)</small>
							</span>
					</div>

					<br>

					{{ form.nonce() }}

					{{ form.submit(class="btn btn-warning btn-lg btn-block") }}
				</form>
				{% endwith %}
			</div>
		</div>
	</div>
{% endblock %}

{% block scripts %}
{% endblock %}

{% block entrypoint %}
	{{ Assets.js("assets/js/pages/reset.js", theme="admin") }}
{% endblock %}
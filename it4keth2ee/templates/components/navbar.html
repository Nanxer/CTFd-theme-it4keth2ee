<div class="cyber-sidebar-container">
  <!-- 左侧边栏导航 -->
  <nav class="cyber-sidebar">
    <!-- 品牌标识 -->
    <div class="cyber-sidebar-brand">
      <a href="{{ url_for('views.static_html', route='/') }}" class="cyber-brand-link">
        {% if Configs.ctf_logo %}
          <img
              class="cyber-logo"
              src="{{ url_for('views.files', path=Configs.ctf_logo) }}"
              alt="{{ Configs.ctf_name }}"
              height="40"
          >
        {% else %}
          <span class="cyber-brand-text">{{ Configs.ctf_name }}</span>
        {% endif %}
      </a>
    </div>

    <!-- 主菜单 -->
    <ul class="cyber-sidebar-menu">
      {% for page in Plugins.user_menu_pages %}
        <li class="cyber-menu-item">
          <a class="cyber-menu-link" href="{{ page.route }}" {% if page.link_target %}target="{{ page.link_target }}"{% endif %}>
            <i class="fas fa-cube cyber-menu-icon"></i>
            <span class="cyber-menu-text">{{ page.title }}</span>
          </a>
        </li>
      {% endfor %}

      {% if Configs.account_visibility != 'admins' %}
        <li class="cyber-menu-item">
          <a class="cyber-menu-link" href="{{ url_for('users.listing') }}">
            <i class="fas fa-users cyber-menu-icon"></i>
            <span class="cyber-menu-text">{% trans %}用户{% endtrans %}</span>
          </a>
        </li>

        {% if Configs.user_mode == 'teams' %}
          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('teams.listing') }}">
              <i class="fas fa-user-friends cyber-menu-icon"></i>
              <span class="cyber-menu-text">{% trans %}队伍{% endtrans %}</span>
            </a>
          </li>
        {% endif %}
      {% endif %}

      {% if Configs.account_visibility != 'admins' and Configs.score_visibility != 'admins' %}
        <li class="cyber-menu-item">
          <a class="cyber-menu-link" href="{{ url_for('scoreboard.listing') }}">
            <i class="fas fa-trophy cyber-menu-icon"></i>
            <span class="cyber-menu-text">{% trans %}排行榜{% endtrans %}</span>
          </a>
        </li>
      {% endif %}

      <li class="cyber-menu-item">
        <a class="cyber-menu-link" href="{{ url_for('challenges.listing') }}">
          <i class="fas fa-flag cyber-menu-icon"></i>
          <span class="cyber-menu-text">{% trans %}Challenges{% endtrans %}</span>
        </a>
      </li>
    </ul>

    <!-- 用户菜单 -->
    <div class="cyber-sidebar-footer">
      <ul class="cyber-sidebar-menu">
        {% if authed() %}
          {% if is_admin() %}
            <li class="cyber-menu-item">
              <a class="cyber-menu-link" href="{{ url_for('admin.view') }}">
                <i class="fas fa-wrench cyber-menu-icon"></i>
                <span class="cyber-menu-text">{% trans %}Admin Panel{% endtrans %}</span>
              </a>
            </li>
          {% endif %}

          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('views.notifications') }}">
              <i class="fas fa-bell cyber-menu-icon"></i>
              <span class="cyber-menu-text">
                {% trans %}Notifications{% endtrans %}
                <span x-data x-show="$store.unread_count > 0" x-text="$store.unread_count" class="cyber-notification-badge"></span>
              </span>
            </a>
          </li>

          {% if Configs.user_mode == "teams" %}
            <li class="cyber-menu-item">
              <a class="cyber-menu-link" href="{{ url_for('teams.private') }}">
                <i class="fas fa-users cyber-menu-icon"></i>
                <span class="cyber-menu-text">{% trans %}Team{% endtrans %}</span>
              </a>
            </li>
          {% endif %}

          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('users.private') }}">
              <i class="fas fa-user-circle cyber-menu-icon"></i>
              <span class="cyber-menu-text">{% trans %}Profile{% endtrans %}</span>
            </a>
          </li>

          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('views.settings') }}">
              <i class="fas fa-cogs cyber-menu-icon"></i>
              <span class="cyber-menu-text">{% trans %}Settings{% endtrans %}</span>
            </a>
          </li>

          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('auth.logout') }}">
              <i class="fas fa-sign-out-alt cyber-menu-icon"></i>
              <span class="cyber-menu-text">{% trans %}Logout{% endtrans %}</span>
            </a>
          </li>
        {% else %}
          {% if registration_visible() %}
            <li class="cyber-menu-item">
              <a class="cyber-menu-link" href="{{ url_for('auth.register') }}">
                <i class="fas fa-user-plus cyber-menu-icon"></i>
                <span class="cyber-menu-text">{% trans %}Register{% endtrans %}</span>
              </a>
            </li>
          {% endif %}

          <li class="cyber-menu-item">
            <a class="cyber-menu-link" href="{{ url_for('auth.login') }}">
              <i class="fas fa-sign-in-alt cyber-menu-icon"></i>
              <span class="cyber-menu-text">{% trans %}Login{% endtrans %}</span>
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </nav>

  <!-- 移动端汉堡菜单按钮 -->
  <button class="cyber-sidebar-toggle" type="button" aria-label="Toggle navigation">
    <span class="cyber-toggle-icon"></span>
  </button>
</div>